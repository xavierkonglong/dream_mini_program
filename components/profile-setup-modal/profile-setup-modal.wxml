<!--个人信息设置弹窗组件-->
<view class="profile-setup-modal" wx:if="{{show}}">
  <!-- 遮罩层 -->
  <view class="modal-mask" bindtap="onMaskTap"></view>
  
  <!-- 弹窗内容 -->
  <view class="modal-content">
    <!-- 背景装饰 -->
    <view class="modal-bg">
      <image class="bg-image" src="{{imageUrls.BACKGROUNDS.DREAM_ANALYSIS_RESULT}}" mode="aspectFill"></image>
    </view>
    
    <!-- 弹窗主体 -->
    <view class="modal-body">
      <!-- 标题 -->
      <view class="modal-title">
        <text class="title-text">完善个人信息</text>
        <text class="title-subtitle">请完善您的个人信息以获得更好的体验</text>
      </view>
      
      <!-- 头像区域 -->
      <view class="avatar-section">
        <view class="avatar-container" bindtap="onAvatarTap">
          <image 
            class="avatar-image" 
            src="{{userInfo.userAvatar || imageUrls.DEFAULT_AVATAR}}" 
            mode="aspectFill"
          ></image>
          <view class="avatar-overlay {{uploading ? 'uploading' : ''}}">
            <text class="avatar-icon">{{uploading ? '⏳' : '📷'}}</text>
            <text class="avatar-text">{{uploading ? '上传中...' : '点击上传'}}</text>
          </view>
        </view>
      </view>
      
      <!-- 昵称输入框 -->
      <view class="input-section">
        <view class="cloud-input">
          <text class="input-label">昵称</text>
          <input 
            class="input-field"
            placeholder="请输入昵称"
            value="{{userInfo.userName}}"
            bindinput="onUserNameInput"
            maxlength="20"
          />
          <view class="input-icon">
            <text class="icon-text">👤</text>
          </view>
        </view>
      </view>
      
      <!-- 手机号输入框 -->
      <view class="input-section">
        <view class="cloud-input">
          <text class="input-label">手机号</text>
          <input 
            class="input-field"
            placeholder="请输入手机号（可选）"
            value="{{userInfo.userPhone}}"
            bindinput="onUserPhoneInput"
            type="number"
            maxlength="11"
          />
          <view class="input-icon">
            <text class="icon-text">📱</text>
          </view>
        </view>
      </view>
      
      <!-- 按钮区域 -->
      <view class="button-section">
        <button 
          class="submit-btn {{submitting ? 'submitting' : ''}}"
          bindtap="onSubmit"
          disabled="{{submitting}}"
        >
          <text class="btn-text">{{submitting ? '保存中...' : '完成设置'}}</text>
        </button>
      </view>
      
      <!-- 提示信息 -->
      <view class="setup-tips">
        <text class="tips-text">完善信息后即可开始使用梦境解析功能</text>
      </view>
    </view>
  </view>
</view>




